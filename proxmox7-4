proxmox7-4

第1章
简介
Proxmox VE是一个运行虚拟机和容器的平台。它基于Debian Linux，完全开源。
为了最大程度的灵活性，我们实现了两种虚拟化技术 - 基于内核的虚拟机(KVM)和基于容器的虚拟化(LXC)。
我们的一个主要设计目标是使管理尽可能简单。您可以在单个节点上使用ProxmoxVE，或者组合多个节点的集群。
所有管理任务都可以使用我们的基于Web的管理界面完成，甚至新手用户也可以在几分钟内设置并安装Proxmox VE。

1.1 集中管理
虽然许多人从单个节点开始，但Proxmox VE可以扩展到大量的集群节点。集群堆栈已完全集成，并随默认安装一起提供。

独特的多主设计
集成的基于Web的管理界面为您提供了一个清晰的KVM客户机和Linux容器以及整个集群的概览。
您可以轻松地从图形用户界面管理您的虚拟机和容器、存储或集群。无需安装单独的、复杂的、昂贵的管理服务器。

Proxmox 集群文件系统（pmxcfs）
Proxmox VE 使用独特的 Proxmox 集群文件系统（pmxcfs），这是一个用于存储配置文件的数据库驱动文件系统。这使您能够存储数千个虚拟机的配置。通过使用 
corosync，在所有集群节点上实时复制这些文件。
文件系统将所有数据存储在磁盘上的持久数据库中，尽管如此，数据的副本仍位于 RAM 中，最大存储容量为30MB - 足够容纳数千个虚拟机。
Proxmox VE是唯一使用此独特集群文件系统的虚拟化平台。

基于 Web 的管理界面
Proxmox VE易于使用。管理任务可以通过包含的基于Web的管理界面完成 - 无需安装单独的管理工具或任何额外的管理节点和庞大的数据库。
多主工具允许您从集群的任何节点管理整个集群。
基于JavaScript框架（ExtJS）的中央基于Web的管理界面使您能够从图形用户界面控制所有功能并查看每个单独节点的历史记录和syslogs。
这包括运行备份或还原作业、实时迁移或由HA触发的活动。

命令行
对于习惯于Unix shell或Windows Powershell的舒适性的高级用户，Proxmox VE提供了一个命令行界面，用于管理虚拟环境中的所有组件。
该命令行界面具有智能的选项卡完成功能和完整的UNIX man页面形式的文档。

REST API
Proxmox VE使用RESTful API。我们选择JSON作为主要数据格式，并使用JSON Schema正式定义整个API。这使得第三方管理工具（如自定义托管环境）能够快速轻松地进行集成。

基于角色的管理
您可以使用基于角色的用户和权限管理来为所有对象（如虚拟机、存储、节点等）定义细粒度的访问权限。这允许您定义特权并帮助您控制对对象的访问。
这个概念也被称为访问控制列表：每个权限在特定路径上指定一个主体（用户或组）和一个角色（一组特权）。

认证领域
Proxmox VE支持多种认证来源，如Microsoft Active Directory、LDAP、Linux PAM标准认证或内置的Proxmox VE认证服务器。
这样，您可以根据组织的需求和现有的认证基础设施选择合适的认证方法。

1.2 灵活的存储
Proxmox VE的存储模型非常灵活。虚拟机映像可以存储在一个或多个本地存储上，也可以存储在诸如NFS的共享存储和SAN上。
没有限制，您可以根据需要配置任意数量的存储定义。您可以使用Debian Linux可用的所有存储技术。

将虚拟机存储在共享存储上的一个主要优势是能够在不中断的情况下实时迁移运行中的虚拟机，因为集群中的所有节点都可以直接访问虚拟机磁盘映像。

我们目前支持以下网络存储类型：
    LVM Group（使用iSCSI目标的网络支持）
    iSCSI目标
    NFS共享
    CIFS共享
    Ceph RBD
    直接使用iSCSI LUN
    GlusterFS

支持的本地存储类型包括：
    LVM Group（本地支持设备，如块设备、FC设备、DRBD等）
    目录（现有文件系统上的存储）
    ZFS

1.3 集成备份和还原
集成的备份工具（vzdump）可为运行中的容器和KVM客户机创建一致的快照。它基本上创建了一个包含虚拟机/
容器配置文件的VM或CT数据存档。KVM实时备份适用于所有存储类型，包括NFS、CIFS、iSCSI LUN、Ceph 
RBD上的VM映像。新的备份格式针对快速有效地存储虚拟机备份进行了优化（稀疏文件、无序数据、最小化I/O）。

1.4 高可用性集群
多节点的Proxmox VE HA集群可定义高可用性虚拟服务器。Proxmox VE HA集群基于经过验证的Linux HA技术，提供稳定可靠的HA服务。

1.5 灵活的网络
Proxmox VE使用桥接网络模型。所有虚拟机可以共享一个桥，就像每个客户机的虚拟网络电缆都插入同一个交换机中一样。
为了将虚拟机连接到外部世界，桥接器连接到物理网络卡并分配TCP/IP配置。

为了进一步提高灵活性，可以使用VLAN（IEEE 802.1q）和网络绑定/聚合。通过这种方式，可以为Proxmox VE主机构建复杂、灵活的虚拟网络，充分利用Linux网络堆栈的功能。

1.6 集成防火墙
集成的防火墙允许您在任何虚拟机或容器接口上过滤网络数据包。常见的防火墙规则集可以分组为“安全组”。

1.7 超融合基础设施
Proxmox VE是一个虚拟化平台，紧密集成了计算、存储和网络资源，管理高可用集群、备份/
恢复以及灾难恢复。所有组件都是软件定义的，并且彼此兼容。因此，可以通过集中的Web管理界面像管理单个系统一样对其进行管理。这些功能使得Proxmox 
VE成为部署和管理开源超融合基础设施的理想选择。

1.7.1 使用Proxmox VE的超融合基础设施（HCI）的优势
超融合基础设施（HCI）特别适用于高基础设施需求与低管理预算相遇的部署，如远程和分支办公环境，或者虚拟专用和公共云。

HCI提供以下优势：
    可扩展性：无缝扩展计算、网络和存储设备（即可以快速独立地扩展服务器和存储）。
    低成本：Proxmox VE是开源的，并集成了您需要的所有组件，如计算、存储、网络、备份和管理中心。它可以替代昂贵的计算/存储基础设施。
    数据保护和效率：集成了备份和灾难恢复等服务。
    简便性：易于配置和集中管理。
    开源：没有供应商锁定。

1.7.2 超融合基础设施：存储
Proxmox VE紧密集成了部署超融合存储基础设施的支持。例如，您可以仅使用Web界面部署和管理以下两种存储技术：
    Ceph：一种既自愈又自管理的共享、可靠且高度可扩展的存储系统。了解如何在Proxmox VE节点上管理Ceph服务，请参阅第8章。
    ZFS：一种集文件系统和逻辑卷管理器于一体的存储解决方案，具有广泛的数据防损坏保护功能、各种RAID模式、快速且低成本的快照等功能。了解如何在Proxmox VE节点上充分利用ZFS的功能，请参阅第3.8节。

此外，Proxmox VE还支持集成各种其他存储技术。您可以在存储管理器章节中了解它们（第7章）。

